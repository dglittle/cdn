<head>
	<title>openworklist</title>
	<meta name="viewport" content="
	    width=device-width,
	    initial-scale=1">
</head>

<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase.js"></script>

<body style="
    margin:0px">

<script>

var config = {
    apiKey: "AIzaSyDVM0ekHwUqC_rGsqkT7fJ71FyRum9cxko",
    authDomain: "glittle.firebaseapp.com",
    databaseURL: "https://glittle.firebaseio.com",
    projectId: "glittle",
    storageBucket: "",
    messagingSenderId: "1000468536093"
}
var db = firebase.initializeApp(config).database().ref()

var uid = null
firebase.auth().onAuthStateChanged(function(user) {
    uid = user && user.uid
})
firebase.auth().signInAnonymously().catch(function(error) {
    console.log(error)
})
function waitForUid(cb) {
    function helper() {
        if (uid) cb(uid)
        else setTimeout(helper, 250)
    }
    helper()
}

function each(o, cb) {
	if (o instanceof Array) {
		for (var i = 0; i < o.length; i++) {
			if (cb(o[i], i, o) == false)
				return false
		}
	} else {
		for (var k in o) {
			if (o.hasOwnProperty(k)) {
				if (cb(o[k], k, o) == false)
					return false
			}
		}
	}
	return true
}

function randomString(len, re) {
    re = re || /[a-zA-Z0-9]/
    var chars = []
    for (var i = 0; i < 256; i++) {
        var c = String.fromCharCode(i)
        if (c.match(re)) chars.push(c)
    }
    var ret = []
    for (var i = 0; i < len; i++) {
        ret.push(chars[Math.floor(Math.random() * chars.length)])
    }
    return ret.join('')
}

function create_post_form() {
    work here
}

function create_header() {
    var d = document.createElement('div')
    d.style.background = '#ddd'
    d.style.width = '720px'
    d.style.marginLeft = 'auto'
    d.style.marginRight = 'auto'
    
    function create_button(html, cb) {
        var d = document.createElement('button')
        d.style.background = 'blue'
        d.style.border = '10px solid black'
        d.style.borderRadius = '20px'
        d.style.width = '160px'
        d.style.height = '160px'
        d.style.float = 'left'
        d.style.fontSize = '40px'
        d.style.margin = '10px'
        d.innerHTML = html
        d.onclick = cb
        return d
    }
    
    d.append(create_button('OWL'))
    d.append(create_button('&#128269;', function () {
        console.log('blar?')
        owl_find_form.style.display = owl_find_form.style.display == 'block' ? 'none' : 'block'
        owl_find_view.style.display = owl_find_view.style.display == 'block' ? 'none' : 'block'        
    }))
    d.append(create_button('<span style="font-size:80px">+</span><br/><span style="font-size:20px">POST</span>'))
    d.append(create_button('<span style="font-size:20px">beautiful statistics</span>'))

    return d
}

document.body.append(create_header())

</script>

</body>
